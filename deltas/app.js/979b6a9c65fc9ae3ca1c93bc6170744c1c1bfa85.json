["function _f5a712d411dbc2288566815d33582e3d5f71b23",49,252,"if(!EMSPEEDTouch.view.requisition){EMSPEEDTouch.view.requisition",297,1448,1761,548039,549825,1550,"if(EMSPEEDTouch.com.getProjectId()!=null){b.down(\"#titleLabel\").setHtml(b.getTitle());b",551130,32,"EMSPEEDTouch.com.getProjectId()+\"-\"+EMSPEEDTouch.com.getProjectName())}else{b.down(\"#titleLabel\").setHtml(b.getTitle());if(a!=null){b",551130,35,"}",551375,182,551565,6105,"project.RiskMatrix\",Ext.Panel,{id:\"dashboardPortletRiskMatrix\",",552400,55,"this.getData()},config:{title:\"Risk Matrix\"",552475,78,"vbox\",flex:1,items:[{xtype:\"container\",docked:\"top\",listeners:{swipe:{fn:function(d,c,a,b){if(d.direction===\"up\"){Ext.getCmp(\"dashboardPortletRiskMatrix\").getItems().items[1].getItems().items[0].setHeight(25);document.getElementById(\"theMatrix\").style.display=\"none\"}if(d.direction===\"left\"){Ext.getCmp(\"dashboardPortletRiskMatrix\").getItems().items[1].getItems().items[0].setHeight(0);document.getElementById(\"theFilter\").style.display=\"none\";document.getElementById(\"theOverall\").style.display=\"none\"}if(d.direction===\"down\"){Ext.getCmp(\"dashboardPortletRiskMatrix\").getItems().items[1].getItems().items[0].setHeight(250);document.getElementById(\"theOverall\").style.display=\"block\";document.getElementById(\"theMatrix\").style.display=\"block\";document.getElementById(\"theFilter\").style.display=\"block\"}},element:\"element\"}},id:\"theRiskMatrix\",margin:\"5 5 5 5\",height:250,t",555511,34,"matrix\" id=\"theOverall\" >','<div id=\"theMatrix\" >','<tpl for=\".\">',\"{[this.doVal(values.severity, values.occurrence, values.count)]}\",\"</tpl>\",\"</div>\",'<div class=\"filter\" id=\"theFilter\">',\"<span>Filters</span>\",\"<ul>\",'<li class=\"insignificant\" data-e-value=\"insignificant\">&nbsp;</li>','<li class=\"low\" data-e-value=\"low\">&nbsp;</li>','<li class=\"medium\" data-e-value=\"medium\">&nbsp;</li>','<li class=\"high\" data-e-value=\"high\">&nbsp;</li>','<li class=\"extreme\" data-e-value=\"extreme\">&nbsp;</li>',\"</ul>\",\"</div>\",\"</div>\",{disableFormats:true,doVal:function(e,g,b){var f=Ext.getCmp(\"dashboardPortletRiskMatrix\");var a=[[\"insignificant\",\"low\",\"low\",\"low\",\"medium\"],[\"low\",\"low\",\"medium\",\"medium\",\"high\"],[\"low\",\"medium\",\"medium\",\"high\",\"high\"],[\"low\",\"medium\",\"high\",\"high\",\"extreme\"],[\"medium\",\"high\",\"high\",\"extreme\",\"extreme\"]];var d=\"\";if(g===1){d=d+'<ul class=\"row\">'}if(b===0){d=d+'<li r=\"'+e+'\"  c=\"'+g+'\"  v=\"'+b+'\" data-e-value=\"'+a[e-1][g-1]+'\" class=\"clickable '+a[e-1][g-1]+'\">&nbsp;&nbsp;</li>'}else{d=d+'<li r=\"'+e+'\"  c=\"'+g+'\"  v=\"'+b+'\" data-e-value=\"'+a[e-1][g-1]+'\" class=\"clickable '+a[e-1][g-1]+'\">&nbsp;'+b+\"&nbsp;</li>\"}if(g===5){d=d+\"</ul>\"}return d}})},{xtype:\"dataview\",margin:\"5 5 5 5\",id:\"theRisksDataview2\",flex:1,listeners:{scope:this,itemtap:function(b,c,g,a,f,d){alert(a.data.riskName)}},singleSelect:true,itemSelector:\".clickable\",itemTpl:new Ext.XTemplate('<hr style=\"margin:10px 0px 10px 0px\">'",552877,38,552974,51,";font-weight:bold\">Risk #{riskSequence}</div",552975,46,"right;font-weight:bold\">',\"S:{riskSeverity}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O:{riskOccurrence}\",'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"padding:5px 5px 5px 5px;width:30px;\">R:</span>{[this.doVal(values.riskScore, values.riskOccurrence, values.riskSeverity )]}',\"</div>\",\"</div>\",'<div class=\"clickable\" style=\"white-space:normal !important;font-size:16px;margin:5px 0px 5px 0px\"> {riskName} </div>',\"</div>\",{disableFormats:true,doVal:function(g,h,e){var f=Ext.getCmp(\"dashboardPortletRiskMatrix\");var b=\"\";var a=[[\"insignificant\",\"low\",\"low\",\"low\",\"medium\"],[\"low\",\"low\",\"medium\",\"medium\",\"high\"],[\"low\",\"medium\",\"medium\",\"high\",\"high\"],[\"low\",\"medium\",\"high\",\"high\",\"extreme\"],[\"medium\",\"high\",\"high\",\"extreme\",\"extreme\"]];if(h>0&&e>0){var d=a[h-1][e-1];b=d+\"-cell\"}var c='<span class=\"'+b+'\" style=\"padding:5px 5px 5px 5px;width:30px;\">'+g+\"</span> \";return c}})}]",556493,97,"theColors:[[\"insignificant\",\"low\",\"low\",\"low\",\"medium\"],[\"low\",\"low\",\"medium\",\"medium\",\"high\"],[\"low\",\"medium\",\"medium\",\"high\",\"high\"],[\"low\",\"medium\",\"high\",\"high\",\"extreme\"],[\"medium\",\"high\",\"high\",\"extreme\",\"extreme\"]],clickableColors:[\"insignificant\",\"low\",\"medium\",\"high\",\"extreme\"],currColor:\"high\",currentSelection:{insignificant:false,low:false,medium:false,high:true,extreme:true},updateFilter:function(c){var a=Ext.getCmp(\"theRisksDataview2\").getStore();a.clearFilter();a.filterBy(function(g){if(g.raw.riskSeverity===null){return false}if(g.raw.riskOccurrence===null){return false}var d=g.raw.riskSeverity-1,e=g.raw.riskOccurrence-1;for(var f in c.currentSelection){if(c.currentSelection[f]){if(c.theColors[g.raw.riskOccurrence-1][g.raw.riskSeverity-1]==f){return true}}}return false});for(var b in c.currentSelection){if(c.currentSelection[b]){$(\".matrix ul.row li.\"+b).addClass(\"the-selected-\"+b);$(\".matrix .filter li.\"+b).addClass(\"the-selected-\"+b)}else{$(\".matrix ul.row li.\"+b).removeClass(\"the-selected-\"+b);$(\".matrix .filter li.\"+b).removeClass(\"the-selected-\"+b)}}",554784,100,"RiskBurndown\";var b={type:1,projectId:97370}",554915,56,"e){Ext.getCmp(\"theRiskMatrix\").setData(e.Matrix);var d",556940,43,"Sequence\",\"riskName\",\"riskSeverity\",\"riskOccurrence\",\"riskScore\",\"riskExposureCategorySequence\",\"riskExposureCategoryName\",\"placesUsed\"],data:e.Risks});Ext.getCmp(\"theRisksDataview2\").setStore",555010,70,"riskmatrix",283930,37,"riskmatrix",302848,34,"panel:true,riskmatrix:true},[\"widget.riskmatrix",557191,33,"RiskMatrix",557228,43,"matrix .filter li\",function(){var b=$(this).attr(\"data-e-value\"),c=Ext.getCmp(\"dashboardPortletRiskMatrix\");c.currentSelection[b]=!c.currentSelection[b];c.updateFilter(c)});$(\"body\").on(\"click\",\".matrix ul.row li\",function(){var c=$(this).attr(\"data-e-value\");a();$(this).addClass(\"the-selected-\"+c);var d=Ext.getCmp(\"theRisksDataview2\");var b=d.getStore();b.clearFilter();b.filter(\"riskSeverity\",$(this).attr(\"r\"));b.filter(\"riskOccurrence\",$(this).attr(\"c\"))});$(\"body\").on(\"mouseover\",\".matrix .filter li\",function(){var b=$(this).attr(\"data-e-value\");$(\".matrix ul.row li.\"+b).addClass(\"the-hover-\"+b)}).on(\"mouseout\",\".matrix .filter li\",function(){var b=$(this).attr(\"data-e-value\");$(\".matrix ul.row li.\"+b).removeClass(\"the-hover-\"+b)});var a=function(){rm=Ext.getCmp(\"dashboardPortletRiskMatrix\");for(var b in rm.currentSelection){rm.currentSelection[b]=false}$(\".matrix li\").removeClass(function(e,f){var d=f.split(\" \"),c=[];$.each(d,function(g,h){if(/the-selected.*/.test(h)){c.push(h)}});return c.join(\" \")})}",557632,38,"project.RisksDataview",552383,72,555353,111,"5 5 5 5\",id:\"theRisksDataview\",flex:1,listeners:{scope:this,itemtap:function(b,c,g,a,f,d){alert(a.data.riskName)}},singleSelect:true,itemSelector:\".clickable\",itemTpl:new Ext.XTemplate('<hr style=\"margin:10px 0px 10px 0px\">'",552877,38,552974,51,";font-weight:bold\">Risk #{riskSequence}</div",552975,46,"right;font-weight:bold\">',\"S:{riskSeverity}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O:{riskOccurrence}\",'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"padding:5px 5px 5px 5px;width:30px;\">R:</span>{[this.doVal(values.riskScore, values.riskOccurrence, values.riskSeverity )]}',\"</div>\",\"</div>\",'<div class=\"clickable\" style=\"white-space:normal !important;font-size:16px;margin:5px 0px 5px 0px\"> {riskName} </div>',\"</div>\",{disableFormats:true,doVal:function(g,h,e){var f=Ext.getCmp(\"dashboardPortletRiskMatrix\");var b=\"\";var a=[[\"insignificant\",\"low\",\"low\",\"low\",\"medium\"],[\"low\",\"low\",\"medium\",\"medium\",\"high\"],[\"low\",\"medium\",\"medium\",\"high\",\"high\"],[\"low\",\"medium\",\"high\",\"high\",\"extreme\"],[\"medium\",\"high\",\"high\",\"extreme\",\"extreme\"]];if(h>0&&e>0){var d=a[h-1][e-1];b=d+\"-cell\"}var c='<span class=\"'+b+'\" style=\"padding:5px 5px 5px 5px;width:30px;\">'+g+\"</span> \";return c}}",556492,33,"f,e,a,d){f.down(\"#titleLabel\").setHtml(EMSPEEDTouch.com.getProjectId()+\"-\"+EMSPEEDTouch.com.getProjectName());f",551130,32,"f.getTitle());try{var c=setInterval(function(){clearInterval(c);var g=Ext.getCmp(\"requisitionsID\");var h=g.tab.getBadgeText();if(h===null){h=0}theVal=parseInt(h);theVal=theVal+1;g.tab.setBadgeText(theVal);if(navigator.notification!=undefined){navigator.notification.vibrate(1000);navigator.notification.beep(1)}var i=[{grsNo:\"R497464\",grsAmt:\"$52,240\",supplier:\"Hitachi\",days:3,remaining:1,next:\"mwill\",phone:\"555-111-1224\"},{grsNo:\"R494652\",grsAmt:\"$360,053\",supplier:\"Dassault\",days:4,remaining:1,next:\"Nouaze1\",phone:\"555-222-1234\"},{grsNo:\"R492812\",grsAmt:\"$42\",supplier:\"SHI International\",days:1,remaining:1,next:\"Kishino\",phone:\"555-222-1244\"},{grsNo:\"R497464\",grsAmt:\"$100,000\",supplier:\"Hitachi\",days:5,remaining:1,next:\"MShah23\",phone:\"281-513-7978\"}];Ext.getCmp(\"openGRS\").setData(i)},4000)",556575,38,554809,75,"RiskBurndown\";var b={type:1,projectId:97370}",554915,56,"e){var d",556940,43,"Sequence\",\"riskName\",\"riskSeverity\",\"riskOccurrence\",\"riskScore\",\"riskExposureCategorySequence\",\"riskExposureCategoryName\",\"placesUsed\"],data:e.Risks});Ext.getCmp(\"theRisksDataview\").setStore",555010,70,"risks",369303,37,"risks",562048,42,"risksdataview:true},[\"widget.risksdataview",557191,33,"RisksDataview",557228,173,"call\",function(){var b=$(this).html();var a=$(this).attr(\"pn\");var c=confirm(\"Call \"+b+\"?\");if(c==true){",557447,32,"else{}});$(\"body\").on(\"click\",\".amt\",function(){var d=confirm(\"Do you want to approve this?\");if(d==true){var e=[{grsNo:\"R497464\",grsAmt:\"$52,240\",supplier:\"Hitachi\",days:3,remaining:1,next:\"mwill\",phone:\"555-111-1224\"},{grsNo:\"R494652\",grsAmt:\"$360,053\",supplier:\"Dassault\",days:4,remaining:1,next:\"Nouaze1\",phone:\"555-222-1234\"},{grsNo:\"R492812\",grsAmt:\"$42\",supplier:\"SHI International\",days:1,remaining:1,next:\"Kishino\",phone:\"555-222-1244\"}];Ext.getCmp(\"openGRS\").setData(e);var a=Ext.getCmp(\"requisitionsID\");var c=a.tab.setBadgeText()}else{}",557478,192,"requisition.ViewRequisitions\",Ext.Panel,{",562282,40,552497,48,"margin:\"5 5 0 5\",style:{textAlign:\"center\",fontSize:\"12px\"},html:\"Open GRS Requests - Full Project Summary\"},{xtype:\"container\",width:\"99%\",height:150,id:\"openGRS\",padding:\"5 5 5 5\",height:250,data:[{grsNo:\"R497464\",grsAmt:\"$52,240\",supplier:\"Hitachi\",days:3,remaining:1,next:\"mwill\",phone:\"555-111-1224\"},{grsNo:\"R494652\",grsAmt:\"$360,053\",supplier:\"Dassault\",days:4,remaining:1,next:\"Nouaze1\",phone:\"555-222-1234\"},{grsNo:\"R492812\",grsAmt:\"$42\",supplier:\"SHI International\",days:1,remaining:1,next:\"Kishino\",phone:\"555-222-1244\"}],tpl:new Ext.XTemplate('<table style=\"border-collapse:collapse;\" >',\"<tr >\",'<td class=\"head\">GRS No.</td>','<td class=\"head\">Amt</td>','<td class=\"head\">Supplier</td>','<td class=\"head\">D</td>','<td class=\"head\">R</td>','<td class=\"head\">Next</td>',\"</tr>\",'<tpl for=\".\">',\"{[this.doVal(values, xindex)]}\",\"</tpl>\",\"</table>\",{disableFormats:true,doVal:function(b,g,e,d,a){var h=g%2===0?\"even\":\"odd\";if(g===4){h=\"new\"}var f=\"\";f=f+'<tr class=\"req '+h+'\">';f=f+'<td class=\"req\" style=\"width:30px\" >'+b.grsNo+\"</td>\";f=f+'<td class=\"req amt\"  style=\"cursor:pointer;width:30px\" >'+b.grsAmt+\"</td>\";f=f+'<td class=\"req\"  style=\"xwidth:50px\" >'+b.supplier+\"</td>\";f=f+'<td class=\"req\"  style=\"xwidth:50px\" >'+b.days+\"</td>\";f=f+'<td class=\"req\"  style=\"xwidth:50px\" >'+b.remaining+\"</td>\";f=f+'<td class=\"req call\"  style=\"padding: 10px 10px 10px 10px;cursor:pointer;",556038,34,"\" pn=\"'+b.phone+'\">'+b.next+\"</td>\";f=f+\"</tr>\";return f}}",556492,97,"},0,[\"viewrequisitions",283930,37,"viewrequisitions",302848,34,"panel:true,viewrequisitions:true},[\"widget.viewrequisitions\"],0,[EMSPEEDTouch.view.requisition,\"ViewRequisitions",549340,42,"requisition.ViewApprovals\",Ext",551630,63,555353,93,552534,51,"html:\"\"},{xtype:\"container\",html:\"\"}]",556493,96,"},0,[\"viewapprovals",283930,37,"viewapprovals",302848,34,"panel:true,viewapprovals:true},[\"widget.viewapprovals\"],0,[EMSPEEDTouch.view.requisition,\"ViewApprovals",549340,42,557670,267,557949,4311,551660,33,555353,93,"cover\",flex:1,itemCls:\"my-cover-item\",id:\"homeCover\",height:300,width:\"100%\",itemTpl:[\"<div>\",'<div class=\"image\"><tpl if=\"image\"><img  src=\"{image}\"></tpl></div>',\"</div>\"],store:{fields:[\"firstName\",\"lastName\",\"company\",\"image\",\"url\"],data:[{image:\"resources/images/BluePrint.png\",url:\"http://hub.slb.com/news/you_and_your_career/2013_sep25_slp3_qa_stephanie_cox.aspx\"},{image:\"resources/images/GearingUp.png\",url:\"http://hub.slb.com/news/hse/2013/2013_0ct30_global_journey_management.aspx\"},{image:\"resources/images/GoingGlobal.png\",url:\"http://hub.slb.com/news/our_organization/areas_geomarkets/2013/2013_oct11_local_content.aspx\"},{image:\"resources/images/InventionAwards.png\",url:\"http://hub.slb.com/news/events/2013/2013_oct18_slb_invention_awards_2013_open_for_submissions.aspx\"},{image:\"resources/images/StopTheJob.png\",url:\"http://hub.slb.com/news/hse/hse_hotspot/2013_sep17_hotspot_stop_the_job.aspx\"}]},selectedIndex:2,listeners:{itemdoubletap:function(){console.log(\"itemdbltap\",arguments)},itemtap:function(b,a){console.log(\"itemtap\",arguments)},scope:this}},{xtype:\"container\",margin:\"5 5 0 5\",style:{textAlign:\"center\",xborderColor:\"red\",xbackgroundColor:\"#333333\",xcolor:\"#000000\"},html:\"Most Recent Projects\"},{xtype:\"list\",ui:\"round\",height:200,margin:\" 0 0 0 0\",padding:\"0 0 0 0\",pinHeaders:false,listeners:{itemtap:function(d,b,g,a,f,c){EMSPEEDTouch.com.setProjectId(a.data.projectId);EMSPEEDTouch.com.setProjectName(a.data.projectName);Ext.getCmp(\"projectsID\").setActiveItem(\"summary\");Ext.getCmp(\"main\").setActiveItem(Ext.getCmp(\"projectsID\"))}},variableHeights:true,itemTpl:['<div class=\"clickable\" style=\"white-space:normal !important;font-size:16px;margin:5px 0px 5px 0px\">{projectId} - {projectName}</div>'].join(\"\"),useSimpleItems:true,emptyText:'<div style=\"margin-top: 20px; text-align: center\">No Matching Items</div>'",556493,76,",\"Welcome Marc\"",556569,44,554809,82,"s\";var b={}",554915,56,"e){var d",556940,39,"projectId\",\"projectName\",\"projectManager\",\"productChampion\"],data:e});a.down(\"list\").setStore",555010,64,",getStore:function(){if(!this.store){this.store",556940,39,"firstName\",\"lastName\"],data:[{firstName:\"Tommy\",lastName:\"Maintz\"},{firstName:\"Rob\",lastName:\"Dougan\"},{firstName:\"Ed\",lastName:\"Avins\"},{firstName:\"Jamie\",lastName:\"Avins\"},{firstName:\"Dave\",lastName:\"Dougan\"},{firstName:\"Abraham\",lastName:\"Elias\"},{firstName:\"Jacky\",lastName:\"Ngyuyen\"},{firstName:\"Jay\",lastName:\"Ngyuyen\"},{firstName:\"Jay\",lastName:\"Robinson\"},{firstName:\"Rob\",lastName:\"Avins\"},{firstName:\"Ed\",lastName:\"Dougan\"},{firstName:\"Jamie\",lastName:\"Poulden\"},{firstName:\"Dave\",lastName:\"Spencer\"},{firstName:\"Abraham\",lastName:\"Avins\"},{firstName:\"Jacky\",lastName:\"Avins\"},{firstName:\"Rob\",lastName:\"Kaneda\"},{firstName:\"Ed\",lastName:\"Elias\"},{firstName:\"Tommy\",lastName:\"Dougan\"},{firstName:\"Rob\",lastName:\"Robinson\"}]})}return this.store},onSearchKeyUp:function(g){var f=g.getValue(),b=this.getStore();b.clearFilter(!!f);if(f){var e=f.split(\",\"),a=[],c,d;for(c=0;c<e.length;c++){if(!e[c]){continue}d=e[c].trim();d=d.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\");a.push(new RegExp(d.trim(),\"i\"))}b.filter(function(i){var h=[];for(c=0;c<a.length;c++){var k=a[c],j=k.test(i.get(\"firstName\")+\" \"+i.get(\"lastName\"));h.push(j)}return(a.length&&h.indexOf(true)!==-1)})}},onSearchClearIconTap:function(){this.getStore().clearFilter()",562323,273,"{xtype:\"childpanel\",iconCls:\"home\",title:\"home\",p:[{panel:\"dashboard\",title:\"Dashboard\"}]},{xtype:\"childpanel\",id:\"projectsID\",iconCls:\"team\",title:\"projects\",p:[{panel:\"summary\",title:\"Summary\"},{panel:\"team\",title:\"Team\"},{panel:\"riskmatrix\",title:\"Risks Matrix\"},{panel:\"risksdataview\",title:\"All Risks\"}]},{xtype:\"childpanel\",id:\"requisitionsID\",iconCls:\"organize\",title:\"requisitions\",p:[{panel:\"viewrequisitions\",title:\"Requisitions\"},{panel:\"viewapprovals\",title:\"Approvals\"}]}",562596,854,"var a=confirm(",563487,88,");if(a==true){window.location.reload()}else{}}});"]