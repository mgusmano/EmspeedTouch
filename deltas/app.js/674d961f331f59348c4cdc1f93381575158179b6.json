["function _f5a712d411dbc2288566815d33582e3d5f71b235",50,251,"if(!EMSPEEDTouch.view.requisition){EMSPEEDTouch.view.requisition",297,1448,1761,548039,549825,1550,"if(EMSPEEDTouch.com.getProjectId()!=null){b.down(\"#titleLabel\").setHtml(b.getTitle());b",551130,32,"EMSPEEDTouch.com.getProjectId()+\"-\"+EMSPEEDTouch.com.getProjectName())}else{b.down(\"#titleLabel\").setHtml(b.getTitle());if(a!=null){b",551130,35,"}",551375,182,551565,932,"EMSPEEDTouch.",552497,1961,"EMSPEEDTouch.",554458,214,"EMSPEEDTouch.",554672,212,562005,48,554919,298,"project.Team",552383,72,559856,56,"EMSPEEDTouch.com.getHeader(),{xtype:\"dataview\",margin:\"15 5 5 5\",id:\"theTeamTestDataview\",flex:1,itemTpl:new Ext.XTemplate('<div class=\"teamRoot\"",552623,32,553727,51,";font-weight:bold;padding:0px 0px 0px 0px;\">{riskName} {lastName}</div>',\"</div>\",'<div class=\"teamRoot\"",552623,32,553727,51,";padding:0px 0px 20px 0px;\">Engineer</div>',\"</div>\",'<div class=\"teamRoot\"",552623,32,"\">','<div pn=\"{phoneNumber}\" ",553486,38,"right;font-weight:bold\">','<span style=\"background-color:blue;color:white;padding:10px 10px 10px 10px;\" class=\"teamEmail\" em=\"{eMail}\">email</span>&nbsp;&nbsp;&nbsp;','<span style=\"background-color:blue;color:white;padding:10px 10px 10px 10px;\" class=\"teamSMS\" pn=\"{phoneNumber}\">text</span>&nbsp;&nbsp;&nbsp;','<span style=\"background-color:blue;color:white;padding:10px 10px 10px 10px;\" class=\"teamCall\" pn=\"{phoneNumber}\">call</span>',\"</div>\",\"</div>\",'<hr style=\"margin:20px 0px 5px 0px\">')",561769,76,561860,44,"b=[{riskName:\"Marc\",lastName:\"Gusmano\",riskScore:25,phoneNumber:\"847-331-2020\",eMail:\"mgusmano@outlook.com\"},{riskName:\"Nick\",lastName:\"Gusmano\",riskScore:22,phoneNumber:\"847-331-2022\",eMail:\"mgusmano@outlook.com\"},{riskName:\"Andy\",lastName:\"Gusmano\",riskScore:20,phoneNumber:\"847-331-2023\",eMail:\"mgusmano@outlook.com\"}];var a",562318,39,"riskName\",\"lastName\",\"riskScore\",\"phoneNumber\",\"eMail\"],data:b});Ext.getCmp(\"theTeamTestDataview\").setStore(a)}},0,[\"team\"],[\"component\",\"container\",\"team",302848,35,"eam:true},[\"widget.team",555135,33,"Team\"],0));$(function(){$(\"body\").on(\"click\",\".teamSMS\",function(){var a=$(this).attr(\"pn\");document.location.href=\"SMS:\"+a+\"?body=message %0D%0A here\"});$(\"body\").on(\"click\",\".teamCall\",function(){var a=$(this).attr(\"pn\");document.location.href=\"tel:\"+a});$(\"body\").on(\"click\",\".teamEmail\",function(){var a=$(this).attr(\"em\");document.location.href=\"mailto:\"+a+\"?subject=the subject&body=hello%0D%0Athere\"})}",555180,37,"project.RiskMatrix\",Ext.Panel,{id:\"dashboardPortletRiskMatrix\",",552400,55,"this.getData()},config:{title:\"Risk Matrix\",layout:\"vbox\",items:[EMSPEEDTouch.",552497,43,"vbox\",flex:1,items:[{xtype:\"container\",docked:\"top\",listeners:{swipe:{fn:function(d,c,a,b){if(d.direction===\"up\"){Ext.getCmp(\"dashboardPortletRiskMatrix\").getItems().items[1].getItems().items[0].setHeight(25);document.getElementById(\"theMatrix\").style.display=\"none\"}if(d.direction===\"left\"){Ext.getCmp(\"dashboardPortletRiskMatrix\").getItems().items[1].getItems().items[0].setHeight(0);document.getElementById(\"theFilter\").style.display=\"none\";document.getElementById(\"theOverall\").style.display=\"none\"}if(d.direction===\"down\"){Ext.getCmp(\"dashboardPortletRiskMatrix\").getItems().items[1].getItems().items[0].setHeight(250);document.getElementById(\"theOverall\").style.display=\"block\";document.getElementById(\"theMatrix\").style.display=\"block\";document.getElementById(\"theFilter\").style.display=\"block\"}},element:\"element\"}},id:\"theRiskMatrix\",margin:\"5 5 5 5\",height:250,tpl:new Ext.XTemplate('<div class=\"matrix\" id=\"theOverall\" >','<div id=\"theMatrix\" >','<tpl for=\".\">',\"{[this.doVal(values.severity, values.occurrence, values.count)]}\",\"</tpl>\",\"</div>\",'<div class=\"filter\" id=\"theFilter\">',\"<span>Filters</span>\",\"<ul>\",'<li class=\"insignificant\" data-e-value=\"insignificant\">&nbsp;</li>','<li class=\"low\" data-e-value=\"low\">&nbsp;</li>','<li class=\"medium\" data-e-value=\"medium\">&nbsp;</li>','<li class=\"high\" data-e-value=\"high\">&nbsp;</li>','<li class=\"extreme\" data-e-value=\"extreme\">&nbsp;</li>',\"</ul>\",\"</div>\",\"</div>\",{disableFormats:true,doVal:function(e,g,b){var f=Ext.getCmp(\"dashboardPortletRiskMatrix\");var a=[[\"insignificant\",\"low\",\"low\",\"low\",\"medium\"],[\"low\",\"low\",\"medium\",\"medium\",\"high\"],[\"low\",\"medium\",\"medium\",\"high\",\"high\"],[\"low\",\"medium\",\"high\",\"high\",\"extreme\"],[\"medium\",\"high\",\"high\",\"extreme\",\"extreme\"]];var d=\"\";if(g===1){d=d+'<ul class=\"row\">'}if(b===0){d=d+'<li r=\"'+e+'\"  c=\"'+g+'\"  v=\"'+b+'\" data-e-value=\"'+a[e-1][g-1]+'\" class=\"clickable '+a[e-1][g-1]+'\">&nbsp;&nbsp;</li>'}else{d=d+'<li r=\"'+e+'\"  c=\"'+g+'\"  v=\"'+b+'\" data-e-value=\"'+a[e-1][g-1]+'\" class=\"clickable '+a[e-1][g-1]+'\">&nbsp;'+b+\"&nbsp;</li>\"}if(g===5){d=d+\"</ul>\"}return d}})},{xtype:\"dataview\",margin:\"5 5 5 5\",id:\"theRisksDataview2\",flex:1,listeners:{scope:this,itemtap:function(b,c,g,a,f,d){alert(a.data.riskName)}},singleSelect:true,itemSelector:\".clickable\",itemTpl:new Ext.XTemplate('<hr style=\"margin:10px 0px 10px 0px\">'",552864,38,553727,51,";font-weight:bold\">Risk #{riskSequence}</div",553728,46,"right;font-weight:bold\">',\"S:{riskSeverity}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O:{riskOccurrence}\",'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"padding:5px 5px 5px 5px;width:30px;\">R:</span>{[this.doVal(values.riskScore, values.riskOccurrence, values.riskSeverity )]}',\"</div>\",\"</div>\",",561519,100," {riskName} </div>',\"</div>\",{disableFormats:true,doVal:function(g,h,e){var f=Ext.getCmp(\"dashboardPortletRiskMatrix\");var b=\"\";var a=[[\"insignificant\",\"low\",\"low\",\"low\",\"medium\"],[\"low\",\"low\",\"medium\",\"medium\",\"high\"],[\"low\",\"medium\",\"medium\",\"high\",\"high\"],[\"low\",\"medium\",\"high\",\"high\",\"extreme\"],[\"medium\",\"high\",\"high\",\"extreme\",\"extreme\"]];if(h>0&&e>0){var d=a[h-1][e-1];b=d+\"-cell\"}var c='<span class=\"'+b+'\" style=\"padding:5px 5px 5px 5px;width:30px;\">'+g+\"</span> \";return c}})}]",561769,76,");try{}catch(b){}}}},theColors:[[\"insignificant\",\"low\",\"low\",\"low\",\"medium\"],[\"low\",\"low\",\"medium\",\"medium\",\"high\"],[\"low\",\"medium\",\"medium\",\"high\",\"high\"],[\"low\",\"medium\",\"high\",\"high\",\"extreme\"],[\"medium\",\"high\",\"high\",\"extreme\",\"extreme\"]],clickableColors:[\"insignificant\",\"low\",\"medium\",\"high\",\"extreme\"],currColor:\"high\",currentSelection:{insignificant:false,low:false,medium:false,high:true,extreme:true},updateFilter:function(c){var a=Ext.getCmp(\"theRisksDataview2\").getStore();a.clearFilter();a.filterBy(function(g){if(g.raw.riskSeverity===null){return false}if(g.raw.riskOccurrence===null){return false}var d=g.raw.riskSeverity-1,e=g.raw.riskOccurrence-1;for(var f in c.currentSelection){if(c.currentSelection[f]){if(c.theColors[g.raw.riskOccurrence-1][g.raw.riskSeverity-1]==f){return true}}}return false});for(var b in c.currentSelection){if(c.currentSelection[b]){$(\".matrix ul.row li.\"+b).addClass(\"the-selected-\"+b);$(\".matrix .filter li.\"+b).addClass(\"the-selected-\"+b)}else{$(\".matrix ul.row li.\"+b).removeClass(\"the-selected-\"+b);$(\".matrix .filter li.\"+b).removeClass(\"the-selected-\"+b)}}",554745,100,"RiskBurndown\";var b={type:1,projectId:97370",561996,60,"Ext.getCmp(\"theRiskMatrix\").setData(e.Matrix);var d",562318,39,"riskSequence\",\"riskName\",\"riskSeverity\",\"riskOccurrence\",\"riskScore\",\"riskExposureCategorySequence\",\"riskExposureCategoryName\",\"placesUsed\"],data:e.Risks});Ext.getCmp(\"theRisksDataview2",562196,75,"},0,[\"riskmatrix",283930,37,"riskmatrix",302848,34,"panel:true,riskmatrix:true},[\"widget.riskmatrix",555135,33,"RiskMatrix\"],0));$(function(){$(\"body\").on(\"click\",\".matrix .filter li\",function(){var b=$(this).attr(\"data-e-value\"),c=Ext.getCmp(\"dashboardPortletRiskMatrix\");c.currentSelection[b]=!c.currentSelection[b];c.updateFilter(c)});$(\"body\").on(\"click\",\".matrix ul.row li\",function(){var c=$(this).attr(\"data-e-value\");a();$(this).addClass(\"the-selected-\"+c);var d=Ext.getCmp(\"theRisksDataview2\");var b=d.getStore();b.clearFilter();b.filter(\"riskSeverity\",$(this).attr(\"r\"));b.filter(\"riskOccurrence\",$(this).attr(\"c\"))});$(\"body\").on(\"mouseover\",\".matrix .filter li\",function(){var b=$(this).attr(\"data-e-value\");$(\".matrix ul.row li.\"+b).addClass(\"the-hover-\"+b)}).on(\"mouseout\",\".matrix .filter li\",function(){var b=$(this).attr(\"data-e-value\");$(\".matrix ul.row li.\"+b).removeClass(\"the-hover-\"+b)});var a=function(){rm=Ext.getCmp(\"dashboardPortletRiskMatrix\");for(var b in rm.currentSelection){rm.currentSelection[b]=false}$(\".matrix li\").removeClass(function(e,f){var d=f.split(\" \"),c=[];$.each(d,function(g,h){if(/the-selected.*/.test(h)){c.push(h)}});return c.join(\" \")})}}",555180,37,"project.RisksDataview",552383,72,559856,56,"EMSPEEDTouch.com.getHeader(),{xtype:\"dataview\",margin:\"5 5 5 5\",id:\"theRisksDataview\",flex:1,listeners:{scope:this,itemtap:function(b,c,g,a,f,d){alert(a.data.riskName)}},singleSelect:true,itemSelector:\".clickable\",itemTpl:new Ext.XTemplate('<hr style=\"margin:10px 0px 10px 0px\">'",552864,38,553727,51,";font-weight:bold\">Risk #{riskSequence}</div",553728,46,"right;font-weight:bold\">',\"S:{riskSeverity}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O:{riskOccurrence}\",'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"padding:5px 5px 5px 5px;width:30px;\">R:</span>{[this.doVal(values.riskScore, values.riskOccurrence, values.riskSeverity )]}',\"</div>\",\"</div>\",",561519,100," {riskName} </div>',\"</div>\",{disableFormats:true,doVal:function(g,h,e){var f=Ext.getCmp(\"dashboardPortletRiskMatrix\");var b=\"\";var a=[[\"insignificant\",\"low\",\"low\",\"low\",\"medium\"],[\"low\",\"low\",\"medium\",\"medium\",\"high\"],[\"low\",\"medium\",\"medium\",\"high\",\"high\"],[\"low\",\"medium\",\"high\",\"high\",\"extreme\"],[\"medium\",\"high\",\"high\",\"extreme\",\"extreme\"]];if(h>0&&e>0){var d=a[h-1][e-1];b=d+\"-cell\"}var c='<span class=\"'+b+'\" style=\"padding:5px 5px 5px 5px;width:30px;\">'+g+\"</span> \";return c}})",561769,32,"f,e,a,d){f.down(\"#titleLabel\").setHtml(EMSPEEDTouch.com.getProjectId()+\"-\"+EMSPEEDTouch.com.getProjectName());f",551130,32,"f.getTitle());try{var c=setInterval(function(){clearInterval(c);var g=Ext.getCmp(\"requisitionsID\");var h=g.tab.getBadgeText();if(h===null){h=0}theVal=parseInt(h);theVal=theVal+1;g.tab.setBadgeText(theVal);if(navigator.notification!=undefined){navigator.notification.vibrate(1000);navigator.notification.beep(1)}var i=[{grsNo:\"R497464\",grsAmt:\"$52,240\",supplier:\"Hitachi\",days:3,remaining:1,next:\"mwill\",phone:\"555-111-1224\"},{grsNo:\"R494652\",grsAmt:\"$360,053\",supplier:\"Dassault\",days:4,remaining:1,next:\"Nouaze1\",phone:\"555-222-1234\"},{grsNo:\"R492812\",grsAmt:\"$42\",supplier:\"SHI International\",days:1,remaining:1,next:\"Kishino\",phone:\"555-222-1244\"},{grsNo:\"R497464\",grsAmt:\"$100,000\",supplier:\"Hitachi\",days:5,remaining:1,next:\"MShah23\",phone:\"281-513-7978\"}];Ext.getCmp(\"openGRS\").setData(i)},4000)",561866,113,"RiskBurndown\";var b={type:1,projectId:97370",561996,60,"var d",562318,39,"riskSequence\",\"riskName\",\"riskSeverity\",\"riskOccurrence\",\"riskScore\",\"riskExposureCategorySequence\",\"riskExposureCategoryName\",\"placesUsed\"],data:e.Risks});Ext.getCmp(\"theRisksDataview",562196,75,"},0,[\"risks",369303,37,"risks",369340,42,"risksdataview:true},[\"widget.risksdataview",555135,33,"RisksDataview\"],0));$(function(){$(\"body\").on(\"click\",\".teamSMS\",function(){var a=$(this).attr(\"pn\");document.location.href=\"SMS:\"+a+\"?body=message %0D%0A here\"});$(\"body\").on(\"click\",\".call\",function(){var b=$(this).html();var a=$(this).attr(\"pn\");var c=confirm(\"Call \"+b+\"?\");if(c==true){document.location.href=\"tel:\"+a}else{}});$(\"body\").on(\"click\",\".amt\",function(){var d=confirm(\"Do you want to approve this?\");if(d==true){var e=[{grsNo:\"R497464\",grsAmt:\"$52,240\",supplier:\"Hitachi\",days:3,remaining:1,next:\"mwill\",phone:\"555-111-1224\"},{grsNo:\"R494652\",grsAmt:\"$360,053\",supplier:\"Dassault\",days:4,remaining:1,next:\"Nouaze1\",phone:\"555-222-1234\"},{grsNo:\"R492812\",grsAmt:\"$42\",supplier:\"SHI International\",days:1,remaining:1,next:\"Kishino\",phone:\"555-222-1244\"}];Ext.getCmp(\"openGRS\").setData(e);var a=Ext.getCmp(\"requisitionsID\");var c=a.tab.setBadgeText()}else{}});$(\"body\").on(\"click\",\".teamEmail\",function(){var a=$(this).attr(\"em\");document.location.href=\"mailto:\"+a+\"?subject=the subject&body=hello%0D%0Athere\"})}",555180,37,"requisition.ViewRequisitions\",Ext.Panel,{",559872,40,"EMSPEEDTouch.com.getHeader()",560992,63,"fontSize:\"12px\"},html:\"Open GRS Requests - Full Project Summary\"},{xtype:\"container\",width:\"99%\",height:150,id:\"openGRS\",padding:\"5 5 5 5\",height:250,data:[{grsNo:\"R497464\",grsAmt:\"$52,240\",supplier:\"Hitachi\",days:3,remaining:1,next:\"mwill\",phone:\"555-111-1224\"},{grsNo:\"R494652\",grsAmt:\"$360,053\",supplier:\"Dassault\",days:4,remaining:1,next:\"Nouaze1\",phone:\"555-222-1234\"},{grsNo:\"R492812\",grsAmt:\"$42\",supplier:\"SHI International\",days:1,remaining:1,next:\"Kishino\",phone:\"555-222-1244\"}],tpl:new Ext.XTemplate('<table style=\"border-collapse:collapse;\" >',\"<tr >\",'<td class=\"head\">GRS No.</td>','<td class=\"head\">Amt</td>','<td class=\"head\">Supplier</td>','<td class=\"head\">D</td>','<td class=\"head\">R</td>','<td class=\"head\">Next</td>',\"</tr>\",'<tpl for=\".\">',\"{[this.doVal(values, xindex)]}\",\"</tpl>\",\"</table>\",{disableFormats:true,doVal:function(b,g,e,d,a){var h=g%2===0?\"even\":\"odd\";if(g===4){h=\"new\"}var f=\"\";f=f+'<tr class=\"req '+h+'\">';f=f+'<td class=\"req\" style=\"width:30px\" >'+b.grsNo+\"</td>\";f=f+'<td class=\"req amt\"  style=\"cursor:pointer;width:30px\" >'+b.grsAmt+\"</td>\";f=f+'<td class=\"req\"  style=\"xwidth:50px\" >'+b.supplier+\"</td>\";f=f+'<td class=\"req\"  style=\"xwidth:50px\" >'+b.days+\"</td>\";f=f+'<td class=\"req\"  style=\"xwidth:50px\" >'+b.remaining+\"</td>\";f=f+'<td class=\"req call\"  style=\"padding: 10px 10px 10px 10px;cursor:pointer;background-color:blue;color:white;\" pn=\"'+b.phone+'\">'+b.next+\"</td>\";f=f+\"</tr>\";return f}})",561769,76,");try{}catch(b){}}}}},0,[\"viewrequisitions",283930,37,"viewrequisitions",302848,34,"panel:true,viewrequisitions:true},[\"widget.viewrequisitions\"],0,[EMSPEEDTouch.view.requisition,\"ViewRequisitions",559712,42,"requisition.ViewApprovals\",Ext",551630,63,559856,56,"EMSPEEDTouch.",552497,75,"html:\"\"},{xtype:\"container\",html:\"\"}]",561769,76,");try{}catch(b){}}}}},0,[\"viewapprovals",283930,37,"viewapprovals",302848,34,"panel:true,viewapprovals:true},[\"widget.viewapprovals\"],0,[EMSPEEDTouch.view.requisition,\"ViewApprovals",559712,47,555222,262,555496,4344,559856,56,"EMSPEEDTouch.com.getHeader(),",559912,2144,"var d",562318,39,562114,1765,"{xtype:\"childpanel\",iconCls:\"home\",title:\"home\",p:[{panel:\"dashboard\",title:\"Dashboard\"}]},{xtype:\"childpanel\",id:\"projectsID\",iconCls:\"team\",title:\"projects\",p:[{panel:\"summary\",title:\"Summary\"},{panel:\"team\",title:\"Team\"},{panel:\"riskmatrix\",title:\"Risks Matrix\"},{panel:\"risksdataview\",title:\"All Risks\"}]},{xtype:\"childpanel\",id:\"requisitionsID\",iconCls:\"organize\",title:\"requisitions\",p:[{panel:\"viewrequisitions\",title:\"Requisitions\"},{panel:\"viewapprovals\",title:\"Approvals\"}]}",563879,854,"var a=confirm(",564770,88,");if(a==true){window.location.reload()}else{}}});"]