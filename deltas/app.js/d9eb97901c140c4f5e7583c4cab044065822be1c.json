["function _f5a712d411dbc2288566815d33582e3d5f71b235",50,251,"if(!EMSPEEDTouch.view.requisition){EMSPEEDTouch.view.requisition",297,1448,1761,548039,549825,1553,"EMSPEEDTouch.",551378,103,"EMSPEEDTouch.com.getProjectId()+\"-\"+EMSPEEDTouch.",551504,302,552576,41,551855,6064,"project.RiskMatrix\",Ext.Panel,{id:\"dashboardPortletRiskMatrix\",",551887,55,"this.getData()},config:{title:\"Risk Matrix\"",552724,78,"vbox\",flex:1,items:[{xtype:\"container\",docked:\"top\",listeners:{swipe:{fn:function(d,c,a,b){if(d.direction===\"up\"){Ext.getCmp(\"dashboardPortletRiskMatrix\").getItems().items[1].getItems().items[0].setHeight(25);document.getElementById(\"theMatrix\").style.display=\"none\"}if(d.direction===\"left\"){Ext.getCmp(\"dashboardPortletRiskMatrix\").getItems().items[1].getItems().items[0].setHeight(0);document.getElementById(\"theFilter\").style.display=\"none\";document.getElementById(\"theOverall\").style.display=\"none\"}if(d.direction===\"down\"){Ext.getCmp(\"dashboardPortletRiskMatrix\").getItems().items[1].getItems().items[0].setHeight(250);document.getElementById(\"theOverall\").style.display=\"block\";document.getElementById(\"theMatrix\").style.display=\"block\";document.getElementById(\"theFilter\").style.display=\"block\"}},element:\"element\"}},id:\"theRiskMatrix\",margin:\"5 5 5 5\",height:250,t",555760,34,"matrix\" id=\"theOverall\" >','<div id=\"theMatrix\" >','<tpl for=\".\">',\"{[this.doVal(values.severity, values.occurrence, values.count)]}\",\"</tpl>\",\"</div>\",'<div class=\"filter\" id=\"theFilter\">',\"<span>Filters</span>\",\"<ul>\",'<li class=\"insignificant\" data-e-value=\"insignificant\">&nbsp;</li>','<li class=\"low\" data-e-value=\"low\">&nbsp;</li>','<li class=\"medium\" data-e-value=\"medium\">&nbsp;</li>','<li class=\"high\" data-e-value=\"high\">&nbsp;</li>','<li class=\"extreme\" data-e-value=\"extreme\">&nbsp;</li>',\"</ul>\",\"</div>\",\"</div>\",{disableFormats:true,doVal:function(e,g,b){var f=Ext.getCmp(\"dashboardPortletRiskMatrix\");var a=[[\"insignificant\",\"low\",\"low\",\"low\",\"medium\"],[\"low\",\"low\",\"medium\",\"medium\",\"high\"],[\"low\",\"medium\",\"medium\",\"high\",\"high\"],[\"low\",\"medium\",\"high\",\"high\",\"extreme\"],[\"medium\",\"high\",\"high\",\"extreme\",\"extreme\"]];var d=\"\";if(g===1){d=d+'<ul class=\"row\">'}if(b===0){d=d+'<li r=\"'+e+'\"  c=\"'+g+'\"  v=\"'+b+'\" data-e-value=\"'+a[e-1][g-1]+'\" class=\"clickable '+a[e-1][g-1]+'\">&nbsp;&nbsp;</li>'}else{d=d+'<li r=\"'+e+'\"  c=\"'+g+'\"  v=\"'+b+'\" data-e-value=\"'+a[e-1][g-1]+'\" class=\"clickable '+a[e-1][g-1]+'\">&nbsp;'+b+\"&nbsp;</li>\"}if(g===5){d=d+\"</ul>\"}return d}})},{xtype:\"dataview\",margin:\"5 5 5 5\",id:\"theRisksDataview2\",flex:1,listeners:{scope:this,itemtap:function(b,c,g,a,f,d){alert(a.data.riskName)}},singleSelect:true,itemSelector:\".clickable\",itemTpl:new Ext.XTemplate('<hr style=\"margin:10px 0px 10px 0px\">',",552880,37,552976,51,";font-weight:bold\">Risk #{riskSequence}</div",554239,46,"right;font-weight:bold\">',\"S:{riskSeverity}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O:{riskOccurrence}\",'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"padding:5px 5px 5px 5px;width:30px;\">R:</span>{[this.doVal(values.riskScore, values.riskOccurrence, values.riskSeverity )]}',\"</div>\",\"</div>\",",564222,100," {riskName} </div>',\"</div>\",{disableFormats:true,doVal:function(g,h,e){var f=Ext.getCmp(\"dashboardPortletRiskMatrix\");var b=\"\";var a=[[\"insignificant\",\"low\",\"low\",\"low\",\"medium\"],[\"low\",\"low\",\"medium\",\"medium\",\"high\"],[\"low\",\"medium\",\"medium\",\"high\",\"high\"],[\"low\",\"medium\",\"high\",\"high\",\"extreme\"],[\"medium\",\"high\",\"high\",\"extreme\",\"extreme\"]];if(h>0&&e>0){var d=a[h-1][e-1];b=d+\"-cell\"}var c='<span class=\"'+b+'\" style=\"padding:5px 5px 5px 5px;width:30px;\">'+g+\"</span> \";return c}})}]",554604,32,564504,44,");try{}catch(b){}}}},theColors:[[\"insignificant\",\"low\",\"low\",\"low\",\"medium\"],[\"low\",\"low\",\"medium\",\"medium\",\"high\"],[\"low\",\"medium\",\"medium\",\"high\",\"high\"],[\"low\",\"medium\",\"high\",\"high\",\"extreme\"],[\"medium\",\"high\",\"high\",\"extreme\",\"extreme\"]],clickableColors:[\"insignificant\",\"low\",\"medium\",\"high\",\"extreme\"],currColor:\"high\",currentSelection:{insignificant:false,low:false,medium:false,high:true,extreme:true},updateFilter:function(c){var a=Ext.getCmp(\"theRisksDataview2\").getStore();a.clearFilter();a.filterBy(function(g){if(g.raw.riskSeverity===null){return false}if(g.raw.riskOccurrence===null){return false}var d=g.raw.riskSeverity-1,e=g.raw.riskOccurrence-1;for(var f in c.currentSelection){if(c.currentSelection[f]){if(c.theColors[g.raw.riskOccurrence-1][g.raw.riskSeverity-1]==f){return true}}}return false});for(var b in c.currentSelection){if(c.currentSelection[b]){$(\".matrix ul.row li.\"+b).addClass(\"the-selected-\"+b);$(\".matrix .filter li.\"+b).addClass(\"the-selected-\"+b)}else{$(\".matrix ul.row li.\"+b).removeClass(\"the-selected-\"+b);$(\".matrix .filter li.\"+b).removeClass(\"the-selected-\"+b)}}",555033,100,"RiskBurndown\";var b={type:1,projectId:97370",564699,60,"Ext.getCmp(\"theRiskMatrix\").setData(e.Matrix);var d",565007,39,"riskSequence\",\"riskName\",\"riskSeverity\",\"riskOccurrence\",\"riskScore\",\"riskExposureCategorySequence\",\"riskExposureCategoryName\",\"placesUsed\"],data:e.Risks});Ext.getCmp(\"theRisksDataview2",564885,75,"},0,[\"riskmatrix",283930,37,"riskmatrix",302848,34,"panel:true,riskmatrix:true},[\"widget.riskmatrix",557440,33,"RiskMatrix",557477,43,"matrix .filter li\",function(){var b=$(this).attr(\"data-e-value\"),c=Ext.getCmp(\"dashboardPortletRiskMatrix\");c.currentSelection[b]=!c.currentSelection[b];c.updateFilter(c)});$(\"body\").on(\"click\",\".matrix ul.row li\",function(){var c=$(this).attr(\"data-e-value\");a();$(this).addClass(\"the-selected-\"+c);var d=Ext.getCmp(\"theRisksDataview2\");var b=d.getStore();b.clearFilter();b.filter(\"riskSeverity\",$(this).attr(\"r\"));b.filter(\"riskOccurrence\",$(this).attr(\"c\"))});$(\"body\").on(\"mouseover\",\".matrix .filter li\",function(){var b=$(this).attr(\"data-e-value\");$(\".matrix ul.row li.\"+b).addClass(\"the-hover-\"+b)}).on(\"mouseout\",\".matrix .filter li\",function(){var b=$(this).attr(\"data-e-value\");$(\".matrix ul.row li.\"+b).removeClass(\"the-hover-\"+b)});var a=function(){rm=Ext.getCmp(\"dashboardPortletRiskMatrix\");for(var b in rm.currentSelection){rm.currentSelection[b]=false}$(\".matrix li\").removeClass(function(e,f){var d=f.split(\" \"),c=[];$.each(d,function(g,h){if(/the-selected.*/.test(h)){c.push(h)}});return c.join(\" \")})}}",566461,37,"project.RisksDataview",555530,183,"5 5 5 5\",id:\"theRisksDataview\",flex:1,listeners:{scope:this,itemtap:function(b,c,g,a,f,d){alert(a.data.riskName)}},singleSelect:true,itemSelector:\".clickable\",itemTpl:new Ext.XTemplate('<hr style=\"margin:10px 0px 10px 0px\">',",552880,37,552976,51,";font-weight:bold\">Risk #{riskSequence}</div",554239,46,"right;font-weight:bold\">',\"S:{riskSeverity}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O:{riskOccurrence}\",'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"padding:5px 5px 5px 5px;width:30px;\">R:</span>{[this.doVal(values.riskScore, values.riskOccurrence, values.riskSeverity )]}',\"</div>\",\"</div>\",",564222,100," {riskName} </div>',\"</div>\",{disableFormats:true,doVal:function(g,h,e){var f=Ext.getCmp(\"dashboardPortletRiskMatrix\");var b=\"\";var a=[[\"insignificant\",\"low\",\"low\",\"low\",\"medium\"],[\"low\",\"low\",\"medium\",\"medium\",\"high\"],[\"low\",\"medium\",\"medium\",\"high\",\"high\"],[\"low\",\"medium\",\"high\",\"high\",\"extreme\"],[\"medium\",\"high\",\"high\",\"extreme\",\"extreme\"]];if(h>0&&e>0){var d=a[h-1][e-1];b=d+\"-cell\"}var c='<span class=\"'+b+'\" style=\"padding:5px 5px 5px 5px;width:30px;\">'+g+\"</span> \";return c}})",554604,32,"f,e,a,d){f.down(\"#titleLabel\").setHtml(EMSPEEDTouch.com.getProjectId()+\"-\"+EMSPEEDTouch.com.getProjectName());f",551130,32,"f.getTitle());try{var c=setInterval(function(){clearInterval(c);var g=Ext.getCmp(\"requisitionsID\");var h=g.tab.getBadgeText();if(h===null){h=0}theVal=parseInt(h);theVal=theVal+1;g.tab.setBadgeText(theVal);if(navigator.notification!=undefined){navigator.notification.vibrate(1000);navigator.notification.beep(1)}var i=[{grsNo:\"R497464\",grsAmt:\"$52,240\",supplier:\"Hitachi\",days:3,remaining:1,next:\"mwill\",phone:\"555-111-1224\"},{grsNo:\"R494652\",grsAmt:\"$360,053\",supplier:\"Dassault\",days:4,remaining:1,next:\"Nouaze1\",phone:\"555-222-1234\"},{grsNo:\"R492812\",grsAmt:\"$42\",supplier:\"SHI International\",days:1,remaining:1,next:\"Kishino\",phone:\"555-222-1244\"},{grsNo:\"R497464\",grsAmt:\"$100,000\",supplier:\"Hitachi\",days:5,remaining:1,next:\"MShah23\",phone:\"281-513-7978\"}];Ext.getCmp(\"openGRS\").setData(i)},4000)",564569,113,"RiskBurndown\";var b={type:1,projectId:97370",564699,104,"riskSequence\",\"riskName\",\"riskSeverity\",\"riskOccurrence\",\"riskScore\",\"riskExposureCategorySequence\",\"riskExposureCategoryName\",\"placesUsed\"],data:e.Risks});Ext.getCmp(\"theRisksDataview",564885,75,"},0,[\"risks",369303,37,"risks",562285,42,"risksdataview:true},[\"widget.risksdataview",557440,33,"RisksDataview",557477,173,"call\",function(){var b=$(this).html();var a=$(this).attr(\"pn\");var c=confirm(\"Call \"+b+\"?\");if(c==true){",557696,32,"else{}});$(\"body\").on(\"click\",\".amt\",function(){var d=confirm(\"Do you want to approve this?\");if(d==true){var e=[{grsNo:\"R497464\",grsAmt:\"$52,240\",supplier:\"Hitachi\",days:3,remaining:1,next:\"mwill\",phone:\"555-111-1224\"},{grsNo:\"R494652\",grsAmt:\"$360,053\",supplier:\"Dassault\",days:4,remaining:1,next:\"Nouaze1\",phone:\"555-222-1234\"},{grsNo:\"R492812\",grsAmt:\"$42\",supplier:\"SHI International\",days:1,remaining:1,next:\"Kishino\",phone:\"555-222-1244\"}];Ext.getCmp(\"openGRS\").setData(e);var a=Ext.getCmp(\"requisitionsID\");var c=a.tab.setBadgeText()}else{}",557727,192,"requisition.ViewRequisitions\",Ext.Panel,{",552706,88,563715,43,"fontSize:\"12px\"},html:\"Open GRS Requests - Full Project Summary\"},{xtype:\"container\",width:\"99%\",height:150,id:\"openGRS\",padding:\"5 5 5 5\",height:250,data:[{grsNo:\"R497464\",grsAmt:\"$52,240\",supplier:\"Hitachi\",days:3,remaining:1,next:\"mwill\",phone:\"555-111-1224\"},{grsNo:\"R494652\",grsAmt:\"$360,053\",supplier:\"Dassault\",days:4,remaining:1,next:\"Nouaze1\",phone:\"555-222-1234\"},{grsNo:\"R492812\",grsAmt:\"$42\",supplier:\"SHI International\",days:1,remaining:1,next:\"Kishino\",phone:\"555-222-1244\"}],tpl:new Ext.XTemplate('<table style=\"border-collapse:collapse;\" >',\"<tr >\",'<td class=\"head\">GRS No.</td>','<td class=\"head\">Amt</td>','<td class=\"head\">Supplier</td>','<td class=\"head\">D</td>','<td class=\"head\">R</td>','<td class=\"head\">Next</td>',\"</tr>\",'<tpl for=\".\">',\"{[this.doVal(values, xindex)]}\",\"</tpl>\",\"</table>\",{disableFormats:true,doVal:function(b,g,e,d,a){var h=g%2===0?\"even\":\"odd\";if(g===4){h=\"new\"}var f=\"\";f=f+'<tr class=\"req '+h+'\">';f=f+'<td class=\"req\" style=\"width:30px\" >'+b.grsNo+\"</td>\";f=f+'<td class=\"req amt\"  style=\"cursor:pointer;width:30px\" >'+b.grsAmt+\"</td>\";f=f+'<td class=\"req\"  style=\"xwidth:50px\" >'+b.supplier+\"</td>\";f=f+'<td class=\"req\"  style=\"xwidth:50px\" >'+b.days+\"</td>\";f=f+'<td class=\"req\"  style=\"xwidth:50px\" >'+b.remaining+\"</td>\";f=f+'<td class=\"req call\"  style=\"padding: 10px 10px 10px 10px;cursor:pointer;",556287,34,"\" pn=\"'+b.phone+'\">'+b.next+\"</td>\";f=f+\"</tr>\";return f}})",554604,32,564504,44,");try{}catch(b){}}}}},0,[\"viewrequisitions",283930,37,"viewrequisitions",302848,34,"panel:true,viewrequisitions:true},[\"widget.viewrequisitions\"],0,[EMSPEEDTouch.view.requisition,\"ViewRequisitions",552575,42,"requisition.ViewApprovals\",Ext",551879,63,"this.getData()",552704,130,"html:\"\"},{xtype:\"container\",html:\"\"}]",554604,32,564504,44,");try{}catch(b){}}}}},0,[\"viewapprovals",283930,37,"viewapprovals",302848,34,"panel:true,viewapprovals:true},[\"widget.viewapprovals\"],0,[EMSPEEDTouch.view.requisition,\"ViewApprovals",552575,42,557919,8739,",{xtype:\"childpanel\",id:\"projectsID\",iconCls:\"team\",title:\"projects\",p:[{panel:\"summary\",title:\"Summary\"},{panel:\"team\",title:\"Team\"},{panel:\"riskmatrix\",title:\"Risks Matrix\"},{panel:\"risksdataview\",title:\"All Risks\"}]},{xtype:\"childpanel\",id:\"requisitionsID\",iconCls:\"organize\",title:\"requisitions\",p:[{panel:\"viewrequisitions\",title:\"Requisitions\"},{panel:\"viewapprovals\",title:\"Approvals",566654,858,"var a=confirm(",567549,88,");if(a==true){window.location.reload()}else{}}});"]